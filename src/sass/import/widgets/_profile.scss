/* [W.] Profile
------------------------------------
*/

// Variable
// --------------------------------------------------
$ktv-widget-profile-size: $ktv-base-unit * 4;

// Mixin
// --------------------------------------------------

@mixin widget-profile-status() {
  &[data-status] {
    border-radius: 50%;
    border: 2px solid $ktv-color-transparent;
  }
}

@mixin widget-profile($_ktv-widget-profile-size: $ktv-widget-profile-size) {

  @include clearfix;

  .kt-profile-name {
    font-size: $font-size-h4;
    line-height: $_ktv-widget-profile-size;
    padding: $ktv-base-unit;
    text-transform: capitalize;
  }

  .kt-profile-picture-thumbnail {
    @include square($_ktv-widget-profile-size)
  }
  .kt-profile-picture-medium {
    @include square($_ktv-widget-profile-size * 2.5)
  }

  .kt-profile-dropdown {
    background: #fff;
    padding: 0;

    &.kt-profile-dropdown-lg {
      min-width: $ktv-base-unit * 40;
    }

    &:before {
      position: absolute;
      top: -7px;
      right: ($_ktv-widget-profile-size / 2) - 1;
      display: inline-block;
      border-right: 7px solid transparent;
      border-bottom: 7px solid #ccc;
      border-left: 7px solid transparent;
      border-bottom-color: rgba(0, 0, 0, 0.1);
      content: '';
    }

    &:after {
      position: absolute;
      top: -6px;
      right: $_ktv-widget-profile-size / 2;
      display: inline-block;
      border-right: 6px solid transparent;
      border-bottom: 6px solid #ffffff;
      border-left: 6px solid transparent;
      content: '';
    }
    li {
      &:last-child {
        border-top: 1px solid rgba(0, 0, 0, .157);
        padding: 0;
      }
      & > a {
        opacity: .5;
        @include transition(opacity ease .3s);
        padding: $ktv-base-unit ($ktv-base-unit * 2);
        min-width: 138px;
        & > i {
          margin-right: 5px;
        }
        &:hover {
          opacity: 1;
        }
      }
    }

    .kt-profile-dropdown-header,
    li.kt-profile-dropdown-header,
    .kt-profile-dropdown-footer,
    li.kt-profile-dropdown-footer {
      @include clearfix;
    }

    .kt-profile-dropdown-footer,
    li.kt-profile-dropdown-footer {
      padding-top: $ktv-base-unit;
      padding-bottom: $ktv-base-unit;
    }
  }
  .kt-profile-dropdown-toggle {
    background: transparent;
    border: none;
    padding: $ktv-base-unit;
    display: block;
    position: relative;
    &:focus {
      outline: none;
    }

    .thumbnail-wrapper {
      position: relative;
    }

    .kt-profile-picture-thumbnail{
      @include widget-profile-status;
    }

    .kt-profile-dropdown-status {
      position: absolute;
      bottom: -1px;
      right: -1px;
      line-height: 0;
    }
  }

  .kt-profile-dropdown-status {
    .btn.profile-status {
      @include btn-clear(0, 0, $ktv-base-unit*1.5, $ktv-base-unit*1.5);
      background-color: $ktv-color-white;
      border-radius: 50%;
      border: 2px solid $ktv-color-success;
    }
  }

}

.profile.kt-profile-lg {
  @include widget-profile($ktv-base-unit * 8);
}
