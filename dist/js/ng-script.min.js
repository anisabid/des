!function(t,e,n){var o={o:n({}),init:function(){n.each({trigger:"publish",on:"subscribe",off:"unsubscribe"},function(t,e){jQuery[e]=function(){o.o[t].apply(o.o,arguments)}})}};t.EVENTS=o.init()}(window,window.document,jQuery);var ATX={};!function(t){ATX={header:{affix:{init:function(){var e="affix-header",n=72;return t(window).on("scroll",function(){t(document).height()-t(window).height()>n&&(t(window).scrollTop()>n?t("body").addClass(e):t("body").removeClass(e))}),!0},ready:function(){return ATX.header.affix.init(),!0}},avatar:{init:function(){var e=t(".subnav-user .avatar"),n=e.data("user"),o=n.split(" "),a="";for(index=0;index<o.length;index++)a+=o[index][0];return e.html(a),!0},ready:function(){return ATX.header.avatar.init(),!0}},notification:{options:{nbr:0},update:function(e){var n=e.$this,o=e.data,a=e.data.length,i=n.find(".badge"),r="";a!==ATX.header.notification.options.nbr&&(i.html(a),a?(i.removeClass("hide"),i.show(0,function(){i.removeClass("flash").addClass("flash"),document.getElementById("atx-notification-sound").play(),n.find(".subnav-notification .fa").removeClass("swing").addClass("swing").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.find(".subnav-notification .fa").removeClass("swing"),i.removeClass("flash"),t("#atx-notification-sound").attr("src",t(this).attr("atx-src"))})}),n.find(".no-items").removeClass("hide").hide(),n.find(".with-item").removeClass("hide").show(),t.each(o,function(e,n){r+='  <li class="notification-item new-item" atx-id-notification="'+n.id+'">                                        <a href="javascript:;" class="item">                                            <div class="vertical-align">                                                <p class="col-md-1 text-center circle">                                                    <span class=""><i class="fa fa-circle"></i></span>                                                </p>                                                <p class="col-md-8 text">                                                    <span class="text-master">'+n.messageNotification+'</span>                                                </p>                                                <p class="col-md-3 text-right date">                                                    <span class="text-master">'+t.timeago(n.dateNotification)+"</span>                                                </p>                                            </div>                                        </a>                                    </li>"}),n.find(".notification-body_list.with-item").prepend(r),ATX.header.notification.items()):(i.hide(),n.find(".no-items").removeClass("hide").show(),n.find(".with-item").removeClass("hide").hide())),ATX.header.notification.options.nbr=a},items:function(){var e=t(".atx-notification");e.find(".notification-item.new-item").one("click",function(n){n.preventDefault();var o="undefined"!=typeof e.attr("atx-notification-item-update")?e.attr("atx-notification-item-update"):null;o&&(t.post(o+"/"+t(this).attr("atx-id-notification")),t(this).removeClass("new-item").addClass("old-item"))})},init:function(){var e=t(".atx-notification");e.find(".subnav-notification").click(function(e){e.preventDefault(),t(this).find(".badge").addClass("hide").html("0")}),ATX.header.notification.items()},ready:function(){return ATX.header.notification.init(),!0}},init:function(){return ATX.header.notification.ready(),ATX.header.avatar.ready(),ATX.header.affix.ready(),!0},ready:function(){return ATX.header.init(),!0}},footer:{affix:{init:function(){var e="affix-footer",n=t(".atx-body").height(),o=function(){t(window).height()-t(".atx-header").height()-t(".atx-body").height()>0?t("body").addClass(e):t("body").removeClass(e)};return o(),t(window).on("resize",function(){o()}),t(".atx-body").bind("DOMSubtreeModified",function(){n!==t(this).height()&&(o(),n=t(this).height())}),!0},ready:function(){return ATX.footer.affix.init(),!0}},init:function(){return ATX.footer.affix.ready(),!0},ready:function(){return ATX.footer.init(),!0}},bootstrap:{modal:{ajax:{options:{selector:{id:"#atx-idAjaxModal"}},fn:{template:function(t){var e='                                            <style>@media print {body * { visibility: hidden;  } #atx-idAjaxModal * {  visibility: visible; } #atx-idAjaxModal{ position: absolute; left: 0;  top: 0; margin: 0; padding: 0;min-height:550px}}</style>                                            <div class="modal" id="atx-idAjaxModal" tabindex="-1" role="dialog" aria-labelledby="atx-idAjaxModalLabel" data-focus-on="input:first">                                                <div class="modal-dialog '+t.size+'" role="document">                                                    <div id="atx-idAjaxModal-print-content" class="modal-content">                                                        <div class="modal-header">                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>                                                            <h4 class="modal-title" id="atx-idAjaxModalLabel">'+t.title+'</h4>                                                        </div>                                                    <div class="modal-body clearfix">                                                    </div>                                                    <div class="modal-footer">                                                        <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Fermer</button>';return t.btn.print&&(e+='<button type="button" class="btn btn-primary" data-fn="print"><i class="fa fa-print"></i>&nbspImprimer</button>'),e+="                                                    </div>                                                </div>                                            </div>                                    </div>"}},init:function(){return t('[atx-toggle="ajax-modal"]').each(function(){var e=t(this),n="undefined"!=typeof e.attr("atx-ajax-modal-target")?e.attr("atx-ajax-modal-target"):"undefined"!=typeof e.attr("href")?e.attr("href"):null;n&&e.click(function(o){o.preventDefault(),ATX.component.loader.show();var a=(t(ATX.bootstrap.modal.ajax.options.selector.id),"undefined"!=typeof e.attr("atx-ajax-modal-title")?e.attr("atx-ajax-modal-title"):"undefined"!=typeof e.attr("title")?e.attr("title"):"Titre");t(ATX.bootstrap.modal.ajax.options.selector.id).length?t(ATX.bootstrap.modal.ajax.options.selector.id):t("body").append(ATX.bootstrap.modal.ajax.fn.template({size:e.attr("atx-ajax-modal-size"),title:a,btn:{print:!0}}));return t.ajax({url:n}).done(function(e){t(ATX.bootstrap.modal.ajax.options.selector.id+" .modal-body").html(e),ATX.component.loader.hide(),t(ATX.bootstrap.modal.ajax.options.selector.id).modal("show"),ATX.component.panel.init("#container-popup-fiche-synthetique-consultation-allotie"),t(ATX.bootstrap.modal.ajax.options.selector.id+" .btn[data-fn=print]").click(function(){o.preventDefault(),window.print()}),t(ATX.bootstrap.modal.ajax.options.selector.id).on("hidden.bs.modal",function(e){t(ATX.bootstrap.modal.ajax.options.selector.id).remove()})}),!1})}),!0},ready:function(){return ATX.bootstrap.modal.ajax.init(),!0}}},datetimepicker:{fn:function(e){var n=e.attr("atx-datetimepicker-data"),o={},a={icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"},format:"DD/MM/YYYY",allowInputToggle:!0,showClear:!0};try{o=JSON.parse(n)}catch(i){o={},console.error("Parsing live validation data error:",i)}t.extend(!0,a,o),e.datetimepicker(a)},init:function(e){e?e.find(".datetimepicker").each(function(){ATX.bootstrap.datetimepicker.fn(t(this))}):t(".datetimepicker").each(function(){ATX.bootstrap.datetimepicker.fn(t(this))})},ready:function(){return ATX.bootstrap.datetimepicker.init(),!0}},init:function(){return ATX.bootstrap.modal.ajax.ready(),t('[data-toggle="tooltip"]').tooltip(),t(".btn-group .btn.disabled").click(function(t){t.stopPropagation()}),!0},ready:function(){return ATX.bootstrap.init(),!0}},component:{panel:{options:{classOpen:"open"},element:function(t){return{$panel:t.parents(".atx-form-panel_container.panel-toggle"),$panelHeadeing:t,$panelBody:t.parents(".atx-form-panel_container.panel-toggle").find(".atx-form-panel_body")}},toggle:function(t){return t.$panelHeadeing.attr("aria-expanded",function(){return"true"===t.$panelHeadeing.attr("aria-expanded")?"false":"true"}),t.$panelBody.slideToggle(),t.$panel.toggleClass(ATX.component.panel.options.classOpen),!1},init:function(e){var n="undefined"!=typeof e?e:"body",o={};return t(n).find(".atx-form-panel_container.panel-toggle").each(function(){o.$panel=t(this),o.$panelHeadeing=t(this).find(".atx-form-panel_headeing_container"),o.$panelBody=t(this).find(".atx-form-panel_body"),o.$panel.hasClass(ATX.component.panel.options.classOpen)&&(o.$panelBody.show(),o.$panelHeadeing.attr("aria-expanded","true")),o.$panelHeadeing.click(function(e){return ATX.component.panel.toggle(ATX.component.panel.element(t(this))),e.preventDefault(),!1}),o.$panelHeadeing.keypress(function(t){return(13===t.keyCode||32===t.keyCode)&&(t.preventDefault(),ATX.component.panel.toggle(o),!1)})}),!0},ready:function(){return ATX.component.panel.init(),!0}},search:{options:{url:{service:"",submit:""},milliseconds:500,timeOut:"",encode:!1},q:"",elem:"",service:function(){return console.log(ATX.component.search.q),t.ajax({url:ATX.component.search.options.url.service+ATX.component.search.q,success:function(t){ATX.component.search.data(t)},error:function(){console.log("error")}}),!0},data:function(t){var e=0,n=t.length,o="";if($elem=ATX.component.search.element(ATX.component.search.elem),0!==n){for(e=0;e<t.length;e++)o+=ATX.component.search.row(t[e]);$elem.search.removeClass("hide-result").addClass("show-result"),$elem.result.html(o)}},row:function(t){return'<li class="item" data-idRow="'+t.idConsultation+'"><a class="item_link" href="'+ATX.component.search.url(t.numeroConsultation)+'">'+t.numeroConsultation+" "+t.intituleConsultation+"</a></li>"},clear:function(t){return t.q.val(""),t.btn.attr("href",""),ATX.component.search.q="",t=ATX.component.search.element(ATX.component.search.elem),t.search.removeClass("show-result").addClass("hide-result"),t.result.html(""),!0},encode:function(t){return t=t.replace("<B>","").replace("<b>","").replace("</B>","").replace("</b>",""),ATX.component.search.options.encode?Base64.encode(encodeURIComponent(t)):t},url:function(t){return ATX.component.search.options.url.submit+ATX.component.search.encode(t)},href:function(t){t.btn.attr("href",ATX.component.search.url(ATX.component.search.q))},submit:function(){document.location.href=ATX.component.search.url(ATX.component.search.q)},element:function(t){return{q:t,search:t.parents(".atx-component_search"),btn:t.parents(".atx-component_search").find(".atx-component_search-ok"),result:t.parents(".atx-component_search").find(".atx-component_search-result .atx-component_search-result_list")}},search:function(){clearTimeout(ATX.component.search.options.timeOut),ATX.component.search.options.timeOut=setTimeout(function(){ATX.component.search.service()},ATX.component.search.options.milliseconds)},init:function(){return $this=t(".atx-component_search"),$this.each(function(){t(this).append('<div class="atx-component_search-result"><ul class="atx-component_search-result_list"></ul></div>'),t(this).find(".atx-component_search-q").on("keyup",function(e){ATX.component.search.elem=t(this),$elem=ATX.component.search.element(ATX.component.search.elem),27==e.which?(ATX.component.search.clear($elem),e.preventDefault()):(ATX.component.search.q=$elem.q.val(),ATX.component.search.options.url.submit=$elem.q.attr("data-urlSubmit"),ATX.component.search.options.url.service=$elem.q.attr("data-urlService"),""===ATX.component.search.q?(ATX.component.search.clear($elem),e.preventDefault()):13==e.which?(ATX.component.search.submit(),e.preventDefault()):(ATX.component.search.href($elem),ATX.component.search.search()))}),t(this).find(".atx-component_search-ok").on("click",function(e){return""!==t(this).attr("href")})}),!0},ready:function(){return ATX.component.search.init(),!0}},table:{options:{selector:{header:".atx-table_header",body:".atx-table_body",row:".atx-table_body-row",open:".open",btnOpen:".btn-open",btnValidate:".btn-validate"},classOpen:"open",classOpenFluid:"open open-fluid",classLoading:"loading",classAlreadyLoading:"loaded",classValidate:"validate",cron:{intervals:5e3}},fn:{sort:function(t){sortBy(t)},openRowPlus:function(t,e){e.removeClass(ATX.component.table.options.classLoading),t.parents(ATX.component.table.options.selector.body).find(ATX.component.table.options.selector.row+"."+ATX.component.table.options.classOpen).removeClass(ATX.component.table.options.classOpen),e.addClass(ATX.component.table.options.classOpenFluid)},cron:function(e){var n={STAT_FERMEE:1,STAT_OUVERTE:2,STAT_HORS_DELAI:3,STAT_COMPLETE:4,STAT_A_COMPLETER:5,STAT_LOT_NON_PRESENTE:6,STAT_ECHEC_OUVERTURE:7,STAT_EN_COURS_DECHIFFREMENT:8},o={STAT_FERMEE:"stat_close",STAT_ECHEC_OUVERTURE:"failure",STAT_EN_COURS_DECHIFFREMENT:"loading",STAT_OUVERTE:"open loaded"};t.each(e.data,function(e,a){t(".atx-table-row[atx-id-offre="+a.idOffre+"]").removeClass(o.STAT_FERMEE+" "+o.STAT_ECHEC_OUVERTURE+" "+o.STAT_EN_COURS_DECHIFFREMENT+" "+o.STAT_OUVERTE).addClass(o[a.libelleStatut]),t.trim(a.idStatut)===t.trim(n.STAT_OUVERTE)?t("#row_body-fold_"+a.idOffre).slideDown("slow"):t("#row_body-fold_"+a.idOffre).slideUp("slow")})}},header:{init:function(){return t(".btn-sort").each(function(){var e=t(this);e.click(function(t){t.preventDefault();var n=e.hasClass("sort-desc")?"":e.data("table-sort");ATX.component.table.fn.sort(n)})}),!0},ready:function(){return ATX.component.table.header.init(),!0}},body:{row:{init:function(){return t('[atx-toggle="table-load-ajax"]').each(function(){var e=t(this),n=e.parents(ATX.component.table.options.selector.row),o="undefined"!=typeof e.attr("atx-table-load-ajax-target")?e.attr("atx-table-load-ajax-target"):null;o&&e.click(function(a){return a.preventDefault(),n.addClass(ATX.component.table.options.classLoading),n.hasClass(ATX.component.table.options.classAlreadyLoading)?ATX.component.table.fn.openRowPlus(e,n):t.ajax({url:o}).done(function(t){n.find(".row-plus").html(t),n.addClass(ATX.component.table.options.classAlreadyLoading),ATX.component.table.fn.openRowPlus(e,n)}),!1}),n.find(".row-header").click(function(){n.removeClass(ATX.component.table.options.classOpenFluid)})}),t(".atx-table-row.open.loaded").each(function(){var e=t(this);t("#row_body-fold_"+e.attr("atx-id-offre")).slideDown("slow")}),t(".atx-table-row .btn-open").click(function(e){e.preventDefault();var n=t(this),o=n.attr("href");return o&&t.fileDownload(o,{prepareCallback:function(){_dialogDownload=bootbox.dialog({message:'<p class="text-center"><i class="fa fa-spin fa-spinner"></i> Please wait while processing the file...</p>',closeButton:!1}),setTimeout(function(){_dialogDownload.modal("hide")},1e3)},successCallback:function(){t.publish("btn:ajax:success",n)},failCallback:function(){t.publish("btn:ajax:error",n)}}),!1}),t(".atx-table-row .btn-validate").click(function(e){e.preventDefault();var n=t(this),o=n.attr("href"),a=n.parents(".atx-table-form").serialize();return t.ajax({url:o,data:a,success:function(e){t.publish("btn:ajax:success",n)},error:function(){t.publish("btn:ajax:error",n)}}),!1}),t(".btn-open-multiple-offre").click(function(e){e.preventDefault();var n=t(this),o=n.attr("href"),a=[];return t("input.select-candidate:checked").each(function(){a.push(t(this).attr("atx-id-offre"))}),t.ajax({url:o,data:{list:a},success:function(t){},error:function(){console.log("Error in open multiple offer")}}),!1}),t(".btn-save-multiple-offre").click(function(e){e.preventDefault();var n=t(this),o=n.attr("href"),a=t(".atx-table-offers").find(".atx-table-form").serialize();return console.log(a),t.ajax({url:o,data:{form:a},success:function(t){},error:function(){console.log("Error in open multiple offer")}}),!1}),t(".btn-open-multiple-offre").click(function(e){e.preventDefault();var n=t(this),o=n.attr("href"),a=[];return t("input.select-candidate:checked").each(function(){a.push(t(this).attr("atx-id-offre"))}),t.ajax({url:o,data:{list:a},success:function(t){},error:function(){console.log("Error in open multiple offer")}}),!1}),t("input.select-row-all").click(function(){var e=this.checked;t(this).closest(".table").find("input.select-row, input.select-row-all").each(function(){t(this).prop("checked",e)})}),t("input.select-row").click(function(){var e=this.checked;e||t(this).parents(".table").find("> .table-thead input.select-row-all").each(function(){t(this).prop("checked",e)})}),t(".atx-table .atx-table_options .select-candidates-all").click(function(){return t(this).parents(".atx-table_options").attr({"atx-select-candidates":!0,"aria-selected":!0}),t(this).parents(".atx-table").find(".select-candidate").each(function(){t(this).prop("checked",!0)}),!1}),t(".atx-table .atx-table_options .deselected-candidates-all").click(function(){return t(this).parents(".atx-table_options").attr({"atx-select-candidates":!1,"aria-selected":!1}),t(this).parents(".atx-table").find(".select-candidate").each(function(){t(this).prop("checked",!1)}),!1}),t(".atx-table .select-candidate").click(function(){t(this).parents(".atx-table").find(".atx-table_options").attr({"atx-select-candidates":!1,"aria-selected":!1})}),t('[atx-toggle="cron"]').each(function(){var e=t(this),n="undefined"!=typeof e.attr("atx-cron-target")?e.attr("atx-cron-target"):null,o="undefined"!=typeof e.attr("atx-cron-callback")&&e.attr("atx-cron-callback")?e.attr("atx-cron-callback"):ATX.component.table.fn.cron,a="undefined"!=typeof e.attr("atx-cron-intervals")&&e.attr("atx-cron-intervals")?e.attr("atx-cron-intervals"):ATX.component.table.options.cron.intervals,i=function(t,e){t.call(this,e)};setInterval(function(){t.ajax({url:n,success:function(t){var a=o;"string"==typeof o&&(a="undefined"==typeof window[o]?ATX.fn.$obj(window,o):window[o]),i(a,{$this:e,target:n,data:t})},error:function(){}})},a)}),!0},ready:function(){return ATX.component.table.body.row.init(),!0}},init:function(){ATX.component.table.body.row.ready()},ready:function(){return ATX.component.table.body.init(),!0}},init:function(){return ATX.component.table.header.ready(),ATX.component.table.body.ready(),!0},ready:function(){return ATX.component.table.init(),!0}},loader:{options:{selector:"atx-loader-backdrop"},show:function(){t("body").append(t("<div/>",{id:ATX.component.loader.options.selector,"class":ATX.component.loader.options.selector}))},hide:function(){t("body").find("#"+ATX.component.loader.options.selector).remove()}},toggle:{fn:{hyperlink:{init:function(){t('[atx-toggle="hyperlink"]').each(function(){var e=t(this);"undefined"!=typeof e.attr("atx-hyperlink-target")&&""!==e.attr("atx-hyperlink-target")&&e.click(function(t){return t.preventDefault(),document.location.href=e.attr("atx-hyperlink-target"),!1})})}}},init:function(){return ATX.component.toggle.fn.hyperlink.init(),!0},ready:function(){return ATX.component.toggle.init(),!0}},form:{fn:{btnGroupStatus:{options:{done:{selector:".status-done",class_:"status-done",status:"done"},resolved:{selector:".status-resolved",class_:"status-resolved",status:"resolved"},failed:{selector:".status-failed",class_:"status-failed",status:"failed"},progress:{selector:".status-progress",class_:"status-progress",status:"progress"},active:{selector:".active",class_:"active"},disabled:{selector:".disabled",class_:"disabled"},focus:{selector:".focus",class_:"focus"},validate:{selector:".atx-table-row",class_:"validate"},btnUpdateAll:{selector:".btn-update-all",class_:"btn-update-all"}},toggle:function(t,e){return e.hasClass(ATX.component.form.fn.btnGroupStatus.options.active.class_)||(t.find(".btn").removeClass(ATX.component.form.fn.btnGroupStatus.options.active.class_+" "+ATX.component.form.fn.btnGroupStatus.options.focus.class_),e.addClass(ATX.component.form.fn.btnGroupStatus.options.active.class_)),ATX.component.form.fn.btnGroupStatus.setStatus(t)},disable:function(t){t.hasClass(ATX.component.form.fn.btnGroupStatus.options.active.class_)||t.addClass(ATX.component.form.fn.btnGroupStatus.options.disabled.class_).find("input[type=radio]").prop("disabled",!0)},enabled:function(t){t.removeClass(ATX.component.form.fn.btnGroupStatus.options.disabled.class_).prop("disabled",!1)},setStatus:function(t){var e=ATX.component.form.fn.btnGroupStatus.getStatus(t);return t.attr("atx-status",e),e.toLowerCase()},getStatus:function(t){var e=t.find(".btn.active").attr("atx-update-status");return e=e?e:ATX.component.form.fn.btnGroupStatus.options.progress.status,e.toLowerCase()},getCategory:function(t){var e=t.parents(".btn-group-status").hasClass("option_progress")?"option_progress":"option_eligibility";return{class_:e,selector:" ."+e+" "}},getPosition:function(t){if(t){var e=t.parents(".atx-row_pli"),n=t.parents(".atx-row_pli-body").find(" > .atx-row_pli");return n.index(e)}return-1},updateStatus:function(e,n){var o=n?ATX.component.form.fn.btnGroupStatus.toggle(e,n):ATX.component.form.fn.btnGroupStatus.setStatus(e);if(o!==ATX.component.form.fn.btnGroupStatus.options.progress.status&&(o===ATX.component.form.fn.btnGroupStatus.options.failed.status?(e.parents(".atx-js-row_pli-body-row").find(".atx-js-row_pli-body-row_date").removeClass("hide").addClass("show"),e.hasClass("option_progress")&&e.parents(".atx-row_pli-body-row").find(".atx-js-row_pli-col.col-eligibility .btn-group-status .btn-success").each(function(){ATX.component.form.fn.btnGroupStatus.disable(t(this))})):e.hasClass("option_progress")&&e.parents(".atx-row_pli-body-row").find(".atx-js-row_pli-col.col-eligibility .btn-group-status .btn-success").each(function(){ATX.component.form.fn.btnGroupStatus.enabled(t(this))}),n)){var a=ATX.component.form.fn.btnGroupStatus.getCategory(n);console.log(a);var i=ATX.component.form.fn.btnGroupStatus.getPosition(n),a=ATX.component.form.fn.btnGroupStatus.getCategory(n),r=n.parents(".atx-table-row.loaded").find(".atx-table_header .atx-list_pli-status .atx-lot_status:eq("+i+")");console.log(o),r.attr("atx-status",""),r.find(a.selector+" .btn").removeClass("active"),r.find(a.selector+"[atx-update-status="+o+"]").addClass("active")}if(n&&n.hasClass(ATX.component.form.fn.btnGroupStatus.options.btnUpdateAll.class_)){var s=n.attr("atx-update-status"),a=ATX.component.form.fn.btnGroupStatus.getCategory(n);n.parents(".atx-list_pli-analysis").find(".atx-row_pli-body "+a.selector+" .btn[atx-update-status="+s+"]").trigger("click")}},init:function(){t(".panel-analysis .btn-group-status").each(function(){var e=t(this),n=({done:e.find(ATX.component.form.fn.btnGroupStatus.options.done.selector),resolved:e.find(ATX.component.form.fn.btnGroupStatus.options.resolved.selector),failed:e.find(ATX.component.form.fn.btnGroupStatus.options.failed.selector)},e.find(ATX.component.form.fn.btnGroupStatus.options.active.selector),t.trim(e.attr("atx-status").toLowerCase())),o=e.parents(ATX.component.form.fn.btnGroupStatus.options.validate.selector);o.hasClass(ATX.component.form.fn.btnGroupStatus.options.validate.class_);n||ATX.component.form.fn.btnGroupStatus.updateStatus(e),e.find(".btn").on("click",function(n){var o=t(this);o.hasClass(ATX.component.form.fn.btnGroupStatus.options.disabled.class_)?n.stopPropagation():ATX.component.form.fn.btnGroupStatus.updateStatus(e,o)})})}}},init:function(){return ATX.component.form.fn.btnGroupStatus.init(),!0},ready:function(){return ATX.component.form.init(),!0}},download:{options:{selector:{fileDownload:'[atx-toggle="fileDownload"]'}},fn:{fileDownload:function(){return t(ATX.component.download.options.selector.fileDownload).click(function(){var e=t(this),n=null,o="undefined"!=typeof e.attr("href")?e.attr("href"):"undefined"!=typeof e.attr("atx-file_download-href")?e.attr("atx-file_download-href"):null;return o&&t.fileDownload(o,{data:e.closest("form").serialize(),prepareCallback:function(){n=bootbox.dialog({message:'<p class="text-center"><i class="fa fa-spin fa-spinner"></i> Please wait while processing the file...</p>',closeButton:!1}),setTimeout(function(){n.modal("hide")},1e3)}}),!1}),!1}},init:function(){return ATX.component.download.fn.fileDownload(),!0},ready:function(){return ATX.component.download.init(),!0}}},document:{oldJs:function(){"undefined"!=typeof Draggable&&new Draggable("containerBlocNotes",{revert:!1,ghosting:!1}),autoPositionLayerBlocNotes()},timeago:{settings:function(){jQuery.timeago.settings.strings={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"environ une heure",hours:"environ %d heures",day:"environ un jour",days:"environ %d jours",month:"environ un mois",months:"environ %d mois",year:"un an",years:"%d ans"}}},init:function(){return t(".btn-ajax").click(function(){t(this).addClass("onload")}),t.subscribe("btn:ajax:success",function(e,n){console.log("success => ",n),t(n).addClass("success").removeClass("onload"),setTimeout(function(){t(n).removeClass("success")},1e3)}),t.subscribe("btn:ajax:error",function(e,n){console.log("error => ",n),t(n).addClass("error").removeClass("onload"),setTimeout(function(){t(n).removeClass("error")},1e3)}),ATX.document.oldJs(),ATX.document.timeago.settings(),ATX.bootstrap.ready(),ATX.header.ready(),ATX.footer.ready(),ATX.component.panel.ready(),ATX.component.search.ready(),ATX.component.table.ready(),ATX.component.toggle.ready(),ATX.component.form.ready(),ATX.component.download.ready(),!0},ready:function(){return t(document).ready(function(){ATX.fn.$prototypeNoConflict(),ATX.document.init()}),!0}},fn:{$id:function(e){return t("#"+e)},$class:function(e){return t("."+e)},$obj:function(t,e){e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var n=e.split("."),o=0,a=n.length;o<a;++o){var i=n[o];if(!(i in t))return;t=t[i]}return t},$prototypeNoConflict:function(){if("undefined"!=typeof Prototype&&Prototype.BrowserFeatures.ElementExtensions){var t=function(t,e){var n=function(e){e.target[t]=void 0,setTimeout(function(){delete e.target[t]},0)};e.each(function(e){jQuery(window).on(t+".bs."+e,n)})},e=["collapse","dropdown","modal","tooltip","popover"];t("show",e),t("hide",e)}}}},ATX.document.ready()}(jQuery);